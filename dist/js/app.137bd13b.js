(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],r=!0,s=1;s<o.length;s++){var c=o[s];0!==n[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},n={app:0},a=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="ququlu_view/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("cd49")},"034f":function(t,e,o){"use strict";var r=o("85ec"),n=o.n(r);n.a},"34cd":function(t,e,o){"use strict";var r=o("810c"),n=o.n(r);n.a},"50cd":function(t,e,o){},"810c":function(t,e,o){},"85ec":function(t,e,o){},cd49:function(t,e,o){"use strict";o.r(e);var r=o("9ab4"),n=(o("db4d"),o("2b0e")),a=o("f309"),i=(o("d1e7"),o("5363"),o("c0a4")),s=o.n(i),c=o("c3f0"),u=o("a293"),l=o("f977"),p=o("dc22"),d=o("1902"),f={breakpoint:{scrollBarWidth:14,thresholds:{xs:600,sm:960,md:1280,lg:1920},mobileBreakpoint:100},lang:{current:"en",locales:{ja:d["a"]},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0},themes:{light:{primary:s.a.lightBlue.darken4,secondary:s.a.pink.lighten3,accent:s.a.teal.base,error:s.a.red.lighten1,info:s.a.purple.base,success:s.a.green.base,warning:s.a.yellow.accent4},dark:{primary:s.a.lightBlue.darken4,secondary:s.a.pink.lighten3,accent:s.a.teal.base,error:s.a.red.lighten1,info:s.a.purple.base,success:s.a.green.base,warning:s.a.yellow.accent4}}},icons:{iconfont:"mdi",values:{}}};n["a"].use(a["a"],{directives:{Touch:c["a"],ClickOutside:u["a"],Scroll:l["a"],Resize:p["a"]}});var h=new a["a"](f),m=(o("bf40"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"app"}},[o("v-content",[o("main-viewer",{on:{error:t.errorCapture}})],1),o("error-dialog",{ref:"errorDialog"}),o("loading-dialog",{ref:"loadingDialog"})],1)}),y=[],v=o("60a3"),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isLoading?o("v-overlay",{attrs:{opacity:.46}},[o("v-dialog",{attrs:{"hide-overlay":"",width:"300"},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[o("v-card",{staticClass:"secondary"},[o("v-flex",[o("v-card-text",[o("v-layout",{attrs:{"justify-center":""}},[o("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:50}})],1),o("v-layout",{attrs:{"justify-center":""}},[o("div",{staticClass:"white--text mt-3"},[t._v(t._s(t.text.loading))])])],1)],1)],1)],1)],1):t._e()},g=[],O={Viewer:{HEADER_HEIGHT:48,MIN_WIDTH:250,MIN_HEIGHT:250},LGCAPI:{AUTH_TOKEN_NAME:"x-token"},IMAGE:{QUALITY:.6,CONVERTSIZE:1e6},MENU:[{TITLE:"カレンダー",ROUTE:"calender",ADMIN:!1},{TITLE:"シェア率マップ",ROUTE:"sharemap",ADMIN:!1}],TEXT:{HOME:"トップ",ARROW:"承認",DEARROW:"未承認",FEEDBACK:"差戻",PUBLIC:"公開",LOADING:"読み込み中...",NEWPOST:"新規投稿",EDIT:"編集",SAVE:"記事の保存",PREVIEW:"プレビュー",SHOWPREVIEW:"プレビュー表示",COMMENT:"コメント",CREATE:"作成",DELETE:"削除",DELETECONFIRMATION:"この記事を削除してもよろしいでしょうか？",NOTFOUND:"投稿が見つかりません",ERROR:"エラー",SAVECONFIRMATION:"保存すると承認待ちの状態となり、許可又は差し戻しとなります。",ALLOWCONFIRMATION:"許可をすると公開の状態となります。",FEEDBACKCONFIRMATION:"差戻をすると差戻の状態となります。",CAUTIONFEEDBACK:"差戻しコメントを残したい場合は、下記の差戻ボタンを押下してください",ISSAVE:"保存しますか？",CONFIRM:"確定",CANCEL:"キャンセル",CREATED:"作成日",SEARCH:"検索",MAXLENGTH:{VALUE:25,HINT:"２５文字まで",LABEL:"制限された文字数以内で入力下さい"},USERID:"ID",USERNAME:"氏名",VOTE:{TEXT:"いいね"},ACCOUNT:{TITLE:"アカウント情報"},POSTCOUNTMANAGE:{TITLE:"投稿数管理",SEARCHKEYWORDLABEL:"氏名またはユーザーIDで絞り込み",REFINE:"絞り込み"},CATEGORYMANAGE:{TITLE:"カテゴリ管理",LABEL:"名称",KEY:"キー",MIN:{VALUE:3,TEXT:"３文字以上"},MAX:{VALUE:50,TEXT:"50文字以内"},REQUIRED:"必須",UNIQ:"一意の値にしてください",REGEX:"アルファベットで記入ください",SAVECONFIRMATION:"変更したカテゴリーを保存しますか？"},DIGITALBADGE:{NAME:"氏名",GETBADGE:"取得したバッジ",BADGETYPE:"バッジの種類",CONTENTS:"内容",PUBLISH:"記事公開数",COOL:"いいね数",POSTS:"投稿数",SRC:"badge/icons",STATUS:{PUBLISH:{BRONZE:"10件の記事が公開されました。次は30件です。",SILVER:"30件の記事が公開されました。次は100件です。",GOLD:"100件の記事が公開されました。",NONE:"獲得したバッジはありません"},COOL:{BRONZE:"記事に対し10件のいいねをされました。次は30件です。",SILVER:"記事に対し30件のいいねをされました。次は100件です。",GOLD:"記事に対し100件のいいねをされました。",NONE:"獲得したバッジはありません"},POSTS:{BRONZE:"10件の記事が投稿されました。次は30件です。",SILVER:"30件の記事が投稿されました。次は100件です。",GOLD:"100件の記事が投稿されました。",NONE:"獲得したバッジはありません"}}}}},j=o("6fc5"),E=o("2f62"),T=o("0e44");n["a"].use(E["a"]);var k=new E["a"].Store({strict:!0,plugins:[Object(T["a"])({key:"lgc",paths:["userModule.userId","userModule.userName","userModule.type","userModule.apiToken","userModule.csrfHeaderName","userModule.csrfToken","userModule.tokenExpire","userModule.authToken"],storage:window.sessionStorage})]}),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoading=!1,e.isError={state:!1},e.token="",e}return Object(r["d"])(e,t),e.prototype.setToken=function(t){this.token=t},e.prototype.setIsLoading=function(t){this.isLoading=t},e.prototype.setIsError=function(t){this.isError=t},e.prototype.initApp=function(t){this.setToken(t.token)},e.prototype.startLoading=function(){this.setIsLoading(!0)},e.prototype.stopLoading=function(){this.setIsLoading(!1)},e.prototype.updateToken=function(t){this.setToken(t.token)},e.prototype.updateIsError=function(t){this.setIsError(t)},Object(r["c"])([j["c"]],e.prototype,"setToken",null),Object(r["c"])([j["c"]],e.prototype,"setIsLoading",null),Object(r["c"])([j["c"]],e.prototype,"setIsError",null),Object(r["c"])([j["a"]],e.prototype,"initApp",null),Object(r["c"])([j["a"]],e.prototype,"startLoading",null),Object(r["c"])([j["a"]],e.prototype,"stopLoading",null),Object(r["c"])([j["a"]],e.prototype,"updateToken",null),Object(r["c"])([j["a"]],e.prototype,"updateIsError",null),e=Object(r["c"])([Object(j["b"])({dynamic:!0,store:k,namespaced:!0,name:"appModule"})],e),e}(j["e"]),S=Object(j["f"])(I),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["d"])(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return{loading:O.TEXT.LOADING}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return S.isLoading},set:function(t){},enumerable:!1,configurable:!0}),e=Object(r["c"])([v["a"]],e),e}(v["f"]),w=A,L=w,C=o("2877"),_=o("6544"),M=o.n(_),N=o("b0af"),D=o("99d9"),P=o("169a"),x=o("0e8f"),V=o("a722"),R=o("a797"),U=o("490a"),q=Object(C["a"])(L,b,g,!1,null,null,null),B=q.exports;M()(q,{VCard:N["a"],VCardText:D["b"],VDialog:P["a"],VFlex:x["a"],VLayout:V["a"],VOverlay:R["a"],VProgressCircular:U["a"]});var G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.text.error))])]),o("v-card-text",[t._v(t._s(t.message))]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"error",text:""},on:{click:t.onPushEnterBtn}},[t._v("OK ")])],1)],1)],1)},H=[],J=o("bc3a"),$=o.n(J),F=function(){function t(t,e,o){this.name="APIError",this.message="サーバーとの通信でエラーが発生しました。",this.status=0,this.name=t||this.name,this.message=e||this.message,this.status=o||this.status;var r={state:!0,title:this.name,message:this.message,status:this.status};S.updateIsError(r)}return t.prototype.toString=function(){return this.name+": "+this.message},t}(),W=function(){function t(){this.timeout={timeout:1e4}}return t.prototype.getConfig=function(t,e,o,r){var n,a;return e?r?{headers:(n={"Content-Type":"multipart/form-data",enctype:"multipart/form-data",Accept:"application/json",Authorization:"Bearer "+t},n[""+(e||"")]=o||"",n)}:{headers:(a={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t},a[""+(e||"")]=o||"",a)}:{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t}}},t.prototype.updateToken=function(t){S.updateToken({token:t})},t.prototype.getGeoJsonInfo=function(t){return Object(r["b"])(this,void 0,Promise,(function(){var e,o,n;return Object(r["e"])(this,(function(r){switch(r.label){case 0:return e=""+t,o=this.getConfig(S.token),[4,$.a.get(e,o).catch((function(t){var e,o;console.log(t);var r=null===(o=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===o?void 0:o.error;throw new F(null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.message)}))];case 1:return n=r.sent(),this.updateToken(n.headers.hasOwnProperty(O.LGCAPI.AUTH_TOKEN_NAME)?n.headers[O.LGCAPI.AUTH_TOKEN_NAME]:""),[2,n.data]}}))}))},t.prototype.getUserInfo=function(){return Object(r["b"])(this,void 0,Promise,(function(){var t,e,o;return Object(r["e"])(this,(function(r){switch(r.label){case 0:return t=Object({NODE_ENV:"production",BASE_URL:"ququlu_view/dist/"}).VUE_APP_API_BASE_URL+"/user/me",e=this.getConfig(S.token),[4,$.a.get(t,e).catch((function(t){var e,o;console.log(t);var r=null===(o=null===(e=t.response)||void 0===e?void 0:e.data)||void 0===o?void 0:o.error;throw new F(null===r||void 0===r?void 0:r.name,null===r||void 0===r?void 0:r.message)}))];case 1:return o=r.sent(),this.updateToken(o.headers.hasOwnProperty(O.LGCAPI.AUTH_TOKEN_NAME)?o.headers[O.LGCAPI.AUTH_TOKEN_NAME]:""),[2,o.data]}}))}))},t}(),Z=new W,Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.strageData=JSON.parse(sessionStorage.getItem("lgc")||"{}"),e.userId="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.userId:"",e.userName="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.userName:"",e.type="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.type:"",e.apiToken="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.apiToken:"",e.csrfHeaderName="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.csrfHeaderName:"",e.csrfToken="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.csrfToken:"",e.tokenExpire="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.tokenExpire:"",e.authToken="{}"!==JSON.stringify(e.strageData)?e.strageData.userModule.authToken:"",e.isStrage=!1,e}return Object(r["d"])(e,t),e.prototype.setUserId=function(t){this.userId=t},e.prototype.setName=function(t){this.userName=t},e.prototype.setType=function(t){this.type=t},e.prototype.setApiToken=function(t){this.apiToken=t},e.prototype.setCSRFHeaderName=function(t){this.csrfHeaderName=t},e.prototype.setCSRFToken=function(t){this.csrfToken=t},e.prototype.setTokenExpire=function(t){this.tokenExpire=t},e.prototype.setAuthToken=function(t){this.authToken=t},e.prototype.setClearStrage=function(){this.tokenExpire="",this.csrfToken="",this.apiToken="",this.type="",this.userName="",this.userId="",this.csrfHeaderName="",this.authToken=""},e.prototype.setIsStrage=function(t){this.isStrage=t},e.prototype.clearStrage=function(){this.setClearStrage()},e.prototype.updateIsStrage=function(t){this.setIsStrage(t)},e.prototype.updateApiToken=function(t){this.setApiToken(t)},e.prototype.requestUserInfo=function(){return Object(r["b"])(this,void 0,void 0,(function(){var t,e;return Object(r["e"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Z.getUserInfo()];case 1:return t=o.sent(),[2,{userId:t.result.user_id,userName:t.result.user_name,type:t.result.type,apiToken:t.result.apiToken,csrfHeaderName:t.result.csrfHeaderName,csrfToken:t.result.csrfToken,tokenExpire:t.result.tokenExpire,authToken:S.token}];case 2:throw e=o.sent(),e;case 3:return[2]}}))}))},Object(r["c"])([j["c"]],e.prototype,"setUserId",null),Object(r["c"])([j["c"]],e.prototype,"setName",null),Object(r["c"])([j["c"]],e.prototype,"setType",null),Object(r["c"])([j["c"]],e.prototype,"setApiToken",null),Object(r["c"])([j["c"]],e.prototype,"setCSRFHeaderName",null),Object(r["c"])([j["c"]],e.prototype,"setCSRFToken",null),Object(r["c"])([j["c"]],e.prototype,"setTokenExpire",null),Object(r["c"])([j["c"]],e.prototype,"setAuthToken",null),Object(r["c"])([j["c"]],e.prototype,"setClearStrage",null),Object(r["c"])([j["c"]],e.prototype,"setIsStrage",null),Object(r["c"])([j["a"]],e.prototype,"clearStrage",null),Object(r["c"])([j["a"]],e.prototype,"updateIsStrage",null),Object(r["c"])([j["a"]],e.prototype,"updateApiToken",null),Object(r["c"])([Object(j["d"])({rawError:!0,mutate:["userId","userName","type","apiToken","csrfHeaderName","csrfToken","tokenExpire","authToken"]})],e.prototype,"requestUserInfo",null),e=Object(r["c"])([Object(j["b"])({dynamic:!0,store:k,namespaced:!0,name:"userModule"})],e),e}(j["e"]),z=Object(j["f"])(Y,k),X=o("2ef0"),K=o.n(X),Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.display=!1,e.message="",e.status=null,e}return Object(r["d"])(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return{error:O.TEXT.ERROR}},enumerable:!1,configurable:!0}),e.prototype.open=function(t){var e,o,r;if(this.message=null!==(e=t.message)&&void 0!==e?e:"",this.display=t.state,this.status=null!==(o=t.status)&&void 0!==o?o:null,404===t.status){var n=null!==(r=this.$route.query.token)&&void 0!==r?r:z.apiToken,a="";this.$router.push({path:"/"+a,query:{token:""+n}}).catch((function(t){return t}))}},e.prototype.close=function(){this.display=!1},e.prototype.onPushEnterBtn=function(t){var e=this;this.close();var o=K.a.debounce((function(){var t;if(0===e.status||null===e.status){var o={state:!1};S.updateIsError(o);var r=null!==(t=e.$route.query.token)&&void 0!==t?t:z.apiToken,n={token:""+r};e.$router.push({path:"/",query:n})}}),500);o()},e=Object(r["c"])([v["a"]],e),e}(v["f"]),tt=Q,et=tt,ot=o("8336"),rt=o("2fa4"),nt=Object(C["a"])(et,G,H,!1,null,"e7e10118",null),at=nt.exports;M()(nt,{VBtn:ot["a"],VCard:N["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VDialog:P["a"],VSpacer:rt["a"]});var it,st=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{directives:[{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],staticClass:"pa-0",attrs:{fluid:"","full-height":""}},[o("title-bar"),o("router-view",{on:{error:t.errorPropagation}})],1)},ct=[],ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app-bar",{staticClass:"sticky-scroll",style:{top:t.innerYOffset+"px"},attrs:{dense:"","d-flex":"","order-xs5":"","pa-2":"",color:"white"}},[o("v-toolbar-items",[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline"},[o("v-btn",{attrs:{icon:"",raised:"",rounded:""},on:{click:t.homeBtn}},[t._v("ERP ")])],1)],1)],1)],1),[o("v-spacer"),o("v-menu",{attrs:{bottom:"",left:"","offset-y":!0},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[o("v-chip",t._g({staticClass:"mt-2",attrs:{outlined:""}},r),[o("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("person")]),t._v(" hoge ")],1)]}}])},[o("v-list",t._l(t.menu,(function(e,r){return o("v-list-item",{key:r,on:{click:function(o){return t.onChangeContents(e)}}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"body-2"},[t._v(" "+t._s(e.TITLE)+" ")]),0===r&&t.menu.length>1?o("v-divider",{staticClass:"mt-2 mb-0"}):t._e()],1)],1)})),1)],1),o("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.onClickIsAside(e)}}})]],2)},lt=[],pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contents="",e.isAside=!1,e.isEditMode=!1,e.innerWidth=0,e.innerYOffset=0,e.upsertStatus=0,e.deleteStatus=0,e}return Object(r["d"])(e,t),e.prototype.setContents=function(t){this.contents=t},e.prototype.setIsAside=function(t){this.isAside=t},e.prototype.setIsEditMode=function(t){this.isEditMode=t},e.prototype.setInnerWidth=function(t){this.innerWidth=t},e.prototype.setInnerYOffset=function(t){this.innerYOffset=t},e.prototype.setUpsertStatus=function(t){this.upsertStatus=t},e.prototype.initContents=function(t){this.setContents(t.contents)},e.prototype.pushIsAside=function(t){this.setIsAside(t)},e.prototype.pushIsEditMode=function(t){this.setIsEditMode(t)},e.prototype.pushInnerWidth=function(t){this.setInnerWidth(t)},e.prototype.pushInnerYOffset=function(t){this.setInnerYOffset(t)},e.prototype.updateUpsertStatus=function(t){this.setUpsertStatus(t)},Object(r["c"])([j["c"]],e.prototype,"setContents",null),Object(r["c"])([j["c"]],e.prototype,"setIsAside",null),Object(r["c"])([j["c"]],e.prototype,"setIsEditMode",null),Object(r["c"])([j["c"]],e.prototype,"setInnerWidth",null),Object(r["c"])([j["c"]],e.prototype,"setInnerYOffset",null),Object(r["c"])([j["c"]],e.prototype,"setUpsertStatus",null),Object(r["c"])([j["a"]],e.prototype,"initContents",null),Object(r["c"])([j["a"]],e.prototype,"pushIsAside",null),Object(r["c"])([j["a"]],e.prototype,"pushIsEditMode",null),Object(r["c"])([j["a"]],e.prototype,"pushInnerWidth",null),Object(r["c"])([j["a"]],e.prototype,"pushInnerYOffset",null),Object(r["c"])([j["a"]],e.prototype,"updateUpsertStatus",null),e=Object(r["c"])([Object(j["b"])({dynamic:!0,store:k,namespaced:!0,name:"ContentsModule"})],e),e}(j["e"]),dt=Object(j["f"])(pt,k),ft={Instructor:["Instructor","Assistant"],Admin:["Administrator"]};(function(t){t[t["Admin"]=1]="Admin",t[t["Instructor"]=2]="Instructor",t[t["Learner"]=3]="Learner"})(it||(it={}));var ht=function(){function t(){}return t.prototype.requestUserInfo=function(){return Object(r["b"])(this,void 0,void 0,(function(){var t,e=this;return Object(r["e"])(this,(function(o){switch(o.label){case 0:if(!sessionStorage.getItem("lgc"))return[3,12];o.label=1;case 1:return o.trys.push([1,10,,12]),t=JSON.parse(sessionStorage.getItem("ququlu")||"{}"),z.authToken&&z.authToken===S.token?[3,3]:[4,z.requestUserInfo().catch((function(t){e.errorPropagation(t)}))];case 2:return o.sent(),[3,9];case 3:return this.dateComparison(this.formatDate(new Date(t.userModule.tokenExpire).toISOString(),!0),this.formatDate((new Date).toISOString(),!0))?z.isStrage?(z.clearStrage(),[3,6]):[3,4]:[3,7];case 4:return z.updateIsStrage(!0),[4,z.requestUserInfo().catch((function(t){e.errorPropagation(t)}))];case 5:o.sent(),o.label=6;case 6:return[3,9];case 7:return""!==t.userModule.tokenExpire?[3,9]:[4,z.requestUserInfo().catch((function(t){e.errorPropagation(t)}))];case 8:o.sent(),o.label=9;case 9:return[3,12];case 10:return o.sent(),z.clearStrage(),[4,z.requestUserInfo().catch((function(t){e.errorPropagation(t)}))];case 11:return o.sent(),[3,12];case 12:return[2]}}))}))},t.prototype.isAuthorityNumber=function(t){var e=t.replace(/urn|lti|sysrole|ims|lis|\/|instrole|:|$/g,""),o=ft.Admin,r=o.length,n=ft.Instructor,a=n.length;while(r--)if(-1!==e.indexOf(o[r]))return it.Admin;while(a--)if(-1!==e.indexOf(n[a]))return it.Instructor;return it.Learner},t.prototype.formatDate=function(t,e,o){if(null===t)return"";var r="";try{"string"===typeof t&&(r=void 0!==e?new Date(t.replace(/Z$/,"-09:00")).toISOString().replace(/-/g,"/"):new Date(t).toISOString().replace(/-/g,"/"))}catch(n){console.log(n)}if(r)switch(o){case"yyy-mm-dd":r=""+r.split("T")[0];break;default:r=r.split("T")[0]+" "+r.split("T")[1].split(".")[0];break}return r},t.prototype.dateComparison=function(t,e){return new Date(t).getTime()<new Date(e).getTime()||""===t},t.prototype.formatUserName=function(t){var e=t.split(" "),o=t;return e.length>0&&(o=e[1]+" "+e[0]),o},t.prototype.errorPropagation=function(t){return t},t}(),mt=new ht,yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["d"])(e,t),Object.defineProperty(e.prototype,"userName",{get:function(){return z.userName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return z.userId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerYOffset",{get:function(){return dt.innerYOffset},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menu",{get:function(){var t=this;K.a.filter(O.MENU,(function(e){return!e.ADMIN||e.ADMIN&&t.isAuthorityNumber<t.Learner}));return O.MENU},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuthorityNumber",{get:function(){return mt.isAuthorityNumber(z.type)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Learner",{get:function(){return it.Learner},enumerable:!1,configurable:!0}),e.prototype.homeBtn=function(){var t;return Object(r["b"])(this,void 0,void 0,(function(){var e,o;return Object(r["e"])(this,(function(r){return e=null!==(t=this.$route.query.token)&&void 0!==t?t:z.apiToken,o="/ququlu_view/dist",window.location.href=o+"?token="+e,[2]}))}))},e.prototype.onChangeContents=function(t){var e,o=null!==(e=this.$route.query.token)&&void 0!==e?e:z.authToken,r="";switch(t.ROUTE){case"calender":r="/ququlu_view/dist/calender";break;case"sharemap":r="/ququlu_view/dist/sharemap";break;default:break}if(this.$route.path!==r){var n={token:""+o};this.$router.push({path:""+r,query:n})}},e.prototype.onClickIsAside=function(){dt.pushIsAside(!dt.isAside)},e.prototype.errorPropagation=function(t){return console.log(t),t},e.prototype.mounted=function(){var t;return Object(r["b"])(this,void 0,void 0,(function(){var e,o;return Object(r["e"])(this,(function(r){return e=null!==(t=this.$route.query.token)&&void 0!==t?t:z.authToken,S.initApp({token:""+e}),o={token:""+e},this.$router.push({path:""+this.$route.path,query:o}).catch((function(t){return t})),[2]}))}))},Object(r["c"])([Object(v["b"])("error")],e.prototype,"errorPropagation",null),e=Object(r["c"])([Object(v["a"])({components:{}})],e),e}(v["f"]),vt=yt,bt=vt,gt=(o("34cd"),o("40dc")),Ot=o("5bc1"),jt=o("cc20"),Et=o("ce7e"),Tt=o("132d"),kt=o("8860"),It=o("da13"),St=o("5d23"),At=o("e449"),wt=o("2a7f"),Lt=Object(C["a"])(bt,ut,lt,!1,null,null,null),Ct=Lt.exports;M()(Lt,{VAppBar:gt["a"],VAppBarNavIcon:Ot["a"],VBtn:ot["a"],VChip:jt["a"],VDivider:Et["a"],VIcon:Tt["a"],VList:kt["a"],VListItem:It["a"],VListItemContent:St["a"],VListItemTitle:St["b"],VMenu:At["a"],VSpacer:rt["a"],VToolbarItems:wt["a"]});var _t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPC=!1,e.isMobile=!1,e.scrollWait=300,e}return Object(r["d"])(e,t),e.prototype.onResize=function(){window.innerWidth<1e3&&!this.isPC?(this.isPC=!0,this.isMobile=!1):window.innerWidth>1e3&&!this.isMobile&&(this.isMobile=!0,this.isPC=!1)},e.prototype.errorPropagation=function(t){return console.log(t),t},Object(r["c"])([Object(v["b"])("error")],e.prototype,"errorPropagation",null),e=Object(r["c"])([Object(v["a"])({components:{"title-bar":Ct}})],e),e}(v["f"]),Mt=_t,Nt=Mt,Dt=o("a523"),Pt=o("269a"),xt=o.n(Pt),Vt=Object(C["a"])(Nt,st,ct,!1,null,null,null),Rt=Vt.exports;M()(Vt,{VContainer:Dt["a"]}),xt()(Vt,{Resize:p["b"]});var Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["d"])(e,t),Object.defineProperty(e.prototype,"isLoading",{get:function(){return S.isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return S.isError},enumerable:!1,configurable:!0}),e.prototype.onIsError=function(){this.$refs.errorDialog.open({state:S.isError.state,message:S.isError.message,status:S.isError.status})},e.prototype.errorCapture=function(t){this.$refs.errorDialog.open({state:!0,message:t.message})},Object(r["c"])([Object(v["g"])("isError")],e.prototype,"onIsError",null),e=Object(r["c"])([Object(v["a"])({components:{"loading-dialog":B,"error-dialog":at,"main-viewer":Rt}})],e),e}(v["f"]),qt=Ut,Bt=qt,Gt=(o("034f"),o("7496")),Ht=o("a75b"),Jt=Object(C["a"])(Bt,m,y,!1,null,null,null),$t=Jt.exports;M()(Jt,{VApp:Gt["a"],VContent:Ht["a"]});var Ft=o("9483");Object(Ft["a"])("ququlu_view/dist/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Wt=o("8c4f"),Zt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"main",attrs:{fluid:"","fill-height":"",flat:""}},[o("v-row",{attrs:{fluid:""}})],1)},Yt=[],zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["d"])(e,t),e.prototype.errorPropagation=function(t){return console.log(t),t},e.prototype.mounted=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["e"])(this,(function(t){return[2]}))}))},Object(r["c"])([Object(v["b"])("error")],e.prototype,"errorPropagation",null),e=Object(r["c"])([Object(v["a"])({components:{}})],e),e}(v["f"]),Xt=zt,Kt=Xt,Qt=o("0fd9"),te=Object(C["a"])(Kt,Zt,Yt,!1,null,"6e10bf91",null),ee=te.exports;M()(te,{VContainer:Dt["a"],VRow:Qt["a"]});var oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("calender")},re=[],ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{staticClass:"pa-0 ma-0",attrs:{fluid:"","full-height":"","align-content":"center",justify:"center"}},[o("v-col",[o("v-subheader",[t._v("Calender | カレンダー")]),o("v-sheet",{attrs:{height:"64"}},[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Today ")]),o("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[o("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-left")])],1),o("v-toolbar-title",[t._v(t._s(t.title))]),o("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[o("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-right")])],1),o("v-spacer"),o("v-menu",{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[o("v-btn",t._g({attrs:{outlined:"",color:"grey darken-2"}},r),[o("span",[t._v(t._s(t.typeToLabel[t.type]))]),o("v-icon",{attrs:{right:""}},[t._v("mdi-menu-down")])],1)]}}])},[o("v-list",[o("v-list-item",{on:{click:function(e){t.type="month"}}},[o("v-list-item-title",[t._v(t._s(t.typeToLabel["month"]))])],1),o("v-list-item",{on:{click:function(e){t.type="week"}}},[o("v-list-item-title",[t._v(t._s(t.typeToLabel["week"]))])],1),o("v-list-item",{on:{click:function(e){t.type="day"}}},[o("v-list-item-title",[t._v(t._s(t.typeToLabel["day"]))])],1)],1)],1)],1)],1),o("v-sheet",{attrs:{height:"600"}},[o("v-calendar",{ref:"calendar",attrs:{color:"primary",locale:"ja-jp",events:t.events,"event-color":t.getEventColor,now:t.today,type:t.type},on:{"click:event":t.showEvent,"click:more":t.viewDay,"click:date":t.viewDay,change:t.updateRange},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),o("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[o("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[o("v-toolbar",{attrs:{color:t.selectedEvent.color,dark:""}},[o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("mdi-pencil")])],1),o("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),o("v-spacer"),o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("mdi-dots-vertical")])],1)],1),o("v-card-text",[o("span",{domProps:{innerHTML:t._s(t.selectedEvent.details)}})]),o("v-card-actions",[o("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.selectedOpen=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1)},ae=[],ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus="",e.today=(new Date).toISOString().substr(0,10),e.type="month",e.typeToLabel={month:"月",week:"週",day:"日"},e.weekday=[0,1,2,3,4,5,6],e.weekdays=[{text:"Sun - Sat",value:[0,1,2,3,4,5,6]},{text:"Mon - Sun",value:[1,2,3,4,5,6,0]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon, Wed, Fri",value:[1,3,5]}],e.start=null,e.end=null,e.selectedEvent={},e.selectedElement=null,e.selectedOpen=!1,e.events=[],e.colors=["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],e.names=["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"],e}return Object(r["d"])(e,t),Object.defineProperty(e.prototype,"title",{get:function(){var t,e,o=this,r=o.start,n=o.end;if(!r||null===r||!n||null===n)return!1;var a=this.monthFormatter(r),i=this.monthFormatter(n),s=a===i?"":i,c=null!==(t=r.year)&&void 0!==t?t:"2020",u=null!==(e=n.year)&&void 0!==e?e:"2020",l=c===u?"":u,p=r.day+"日",d=n.day+"日";switch(this.type){case"month":return c+" "+a;case"week":case"4day":return c+" "+a+" "+p+" - "+l+" "+s+" "+d;case"day":return c+" "+a+" "+p}return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calendarInstance",{get:function(){return this.$refs.calendar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"monthFormatter",{get:function(){return this.calendarInstance.getFormatter({timeZone:"UTC",month:"long"})},enumerable:!1,configurable:!0}),e.prototype.viewDay=function(t){var e=t.date;this.focus=e,this.type="day"},e.prototype.getEventColor=function(t){return t.color},e.prototype.setToday=function(){this.focus=this.today},e.prototype.prev=function(){this.calendarInstance.prev()},e.prototype.next=function(){this.calendarInstance.next()},e.prototype.showEvent=function(t){var e=this,o=t.nativeEvent,r=t.event,n=function(){e.selectedEvent=r,e.selectedElement=o.target,setTimeout((function(){return e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(n,10)):n(),o.stopPropagation()},e.prototype.updateRange=function(t){for(var e=t.start,o=t.end,r=[],n=new Date((null===e||void 0===e?void 0:e.date)+"T00:00:00"),a=new Date((null===o||void 0===o?void 0:o.date)+"T23:59:59"),i=(a.getTime()-n.getTime())/864e5,s=this.rnd(i,i+20),c=0;c<s;c++){var u=0===this.rnd(0,3),l=this.rnd(n.getTime(),a.getTime()),p=new Date(l-l%9e5),d=9e5*this.rnd(2,u?288:8),f=new Date(p.getTime()+d);r.push({name:this.names[this.rnd(0,this.names.length-1)],start:this.formatDate(p,!u),end:this.formatDate(f,!u),color:this.colors[this.rnd(0,this.colors.length-1)],details:"test"})}e&&(this.start=e),o&&(this.end=o),this.events=r},e.prototype.nth=function(t){return t>3&&t<21?"th":["th","st","nd","rd","th","th","th","th","th","th"][t%10]},e.prototype.rnd=function(t,e){return Math.floor((e-t+1)*Math.random())+t},e.prototype.formatDate=function(t,e){return e?t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes():t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},e.prototype.errorPropagation=function(t){return console.log(t),t},e.prototype.mounted=function(){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["e"])(this,(function(e){return this.$nextTick((function(){t.calendarInstance.checkChange()})),[2]}))}))},Object(r["c"])([Object(v["b"])("error")],e.prototype,"errorPropagation",null),e=Object(r["c"])([Object(v["a"])({components:{}})],e),e}(v["f"]),se=ie,ce=se,ue=o("a4f6"),le=o("62ad"),pe=o("8dd9"),de=o("e0c7"),fe=o("71d9"),he=Object(C["a"])(ce,ne,ae,!1,null,"c8f26370",null),me=he.exports;M()(he,{VBtn:ot["a"],VCalendar:ue["a"],VCard:N["a"],VCardActions:D["a"],VCardText:D["b"],VCol:le["a"],VIcon:Tt["a"],VList:kt["a"],VListItem:It["a"],VListItemTitle:St["b"],VMenu:At["a"],VRow:Qt["a"],VSheet:pe["a"],VSpacer:rt["a"],VSubheader:de["a"],VToolbar:fe["a"],VToolbarTitle:wt["b"]});var ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["d"])(e,t),e=Object(r["c"])([Object(v["a"])({components:{calender:me}})],e),e}(v["f"]),ve=ye,be=ve,ge=Object(C["a"])(be,oe,re,!1,null,null,null),Oe=ge.exports,je=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{attrs:{"full-height":"","align-content":"center",justify:"center"}},[o("v-col",{attrs:{cols:"3"}},[o("v-card",{staticClass:"pa-2 ma-2"},[o("v-list",t._l(t.items,(function(e){return o("v-list-group",{key:e.title,attrs:{"prepend-icon":e.action,"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(o){t.$set(e,"active",o)},expression:"item.active"}},t._l(e.items,(function(e){return o("v-list-item",{key:e.title,on:{click:function(o){return t.onAreaSelect(e)}}},[o("v-list-item-content",[o("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),1)})),1),o("button",{staticStyle:{border:"1px solid"},on:{click:t.addMarker}},[t._v("click to add marker Dynamically")])],1)],1),o("v-col",{attrs:{cols:"8"}},[o("v-row",{attrs:{fluid:""}},[o("map-base",{attrs:{width:t.windowWidth,height:t.windowHeight,options:t.option},on:{mapLoaded:t.onMapLoaded,mouseMoved:t.onMouseMoved,mouseLeaved:t.onMouseLeaved,mapZoomed:t.onMapZoomed,clicked:t.onClicked}},[t._l(t.markers,(function(e){return[o("marker-base",{attrs:{coordinates:t.coordinates,draggable:e.draggable},on:{added:t.onMarkerAdded}})]}))],2)],1)],1)],1)},Ee=[],Te=o("e192"),ke=o.n(Te),Ie=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",[o("v-card",{attrs:{id:"map",flat:"",width:t.width,height:t.height}}),t._t("default")],2)},Se=[],Ae=o("5a74"),we=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map={},e.mapEvent={},e.hoveredStateId=null,e.initial=!0,e.initialized=!1,e}return Object(r["d"])(e,t),e.prototype.mounted=function(){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["e"])(this,(function(e){return this.map=new ke.a.Map(this.options),this.map.addControl(new Ae({defaultLanguage:"ja"})),this.map.on("load",(function(){t.initial=!1,t.initialized=!0,t.mapLoaded()})),this.map.on("click","state-fills",(function(e){t.mapEvent=e,t.clicked()})),this.map.on("mousemove","state-fills",(function(e){t.mapEvent=e,t.mouseMoved()})),this.map.on("mouseleave","state-fills",(function(){t.mouseLeaved()})),this.map.on("zoom",(function(){t.mapZoomed()})),[2]}))}))},e.prototype.mapLoaded=function(){return{map:this.map,component:this}},e.prototype.clicked=function(){return{e:this.mapEvent,map:this.map,component:this}},e.prototype.mouseMoved=function(){return{e:this.mapEvent,map:this.map,component:this}},e.prototype.mouseLeaved=function(){return{map:this.map,component:this}},e.prototype.mapZoomed=function(){return{map:this.map,component:this}},e.prototype.onMapStyleChanged=function(t,e){t!==e&&this.map.setStyle(t)},e.prototype.handlemap=function(t){var e=this,o=function(){e.map?t(e.map):setTimeout(o,50)};o()},e.prototype.addMarker=function(){new ke.a.Marker({draggable:!0}).setLngLat(this.options.center).addTo(this.map)},Object(r["c"])([Object(v["d"])({default:function(){return{accessToken:Object({NODE_ENV:"production",BASE_URL:"ququlu_view/dist/"}).VUE_APP_MAPBOX_ACCESSTOKEN}}})],e.prototype,"options",void 0),Object(r["c"])([Object(v["d"])({default:100})],e.prototype,"width",void 0),Object(r["c"])([Object(v["d"])({default:100})],e.prototype,"height",void 0),Object(r["c"])([Object(v["b"])("mapLoaded")],e.prototype,"mapLoaded",null),Object(r["c"])([Object(v["b"])("clicked")],e.prototype,"clicked",null),Object(r["c"])([Object(v["b"])("mouseMoved")],e.prototype,"mouseMoved",null),Object(r["c"])([Object(v["b"])("mouseLeaved")],e.prototype,"mouseLeaved",null),Object(r["c"])([Object(v["b"])("mapZoomed")],e.prototype,"mapZoomed",null),Object(r["c"])([Object(v["g"])("mapStyle")],e.prototype,"onMapStyleChanged",null),Object(r["c"])([Object(v["e"])("handlemap")],e.prototype,"handlemap",null),e=Object(r["c"])([Object(v["a"])({})],e),e}(v["f"]),Le=we,Ce=Le,_e=(o("e993"),Object(C["a"])(Ce,Ie,Se,!1,null,"6d629403",null)),Me=_e.exports;M()(_e,{VCard:N["a"],VRow:Qt["a"]});var Ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.upsertStatus=0,e.geoJsonData={},e.targetGeoJsonData={},e}return Object(r["d"])(e,t),e.prototype.setUpsertStatus=function(t){this.upsertStatus=t},e.prototype.setTargetGeoJsonData=function(t){this.targetGeoJsonData=t},e.prototype.updateUpsertStatus=function(t){this.setUpsertStatus(t)},e.prototype.updateTargetGeoJsonData=function(t){this.setTargetGeoJsonData(t)},e.prototype.requestGeoJsonInfo=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var e,o;return Object(r["e"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),console.log("requestGeoJsonInfo "+t),[4,Z.getGeoJsonInfo(t)];case 1:return e=r.sent(),[2,{geoJsonData:e}];case 2:throw o=r.sent(),o;case 3:return[2]}}))}))},Object(r["c"])([j["c"]],e.prototype,"setUpsertStatus",null),Object(r["c"])([j["c"]],e.prototype,"setTargetGeoJsonData",null),Object(r["c"])([j["a"]],e.prototype,"updateUpsertStatus",null),Object(r["c"])([j["a"]],e.prototype,"updateTargetGeoJsonData",null),Object(r["c"])([Object(j["d"])({rawError:!0,mutate:["geoJsonData"]})],e.prototype,"requestGeoJsonInfo",null),e=Object(r["c"])([Object(j["b"])({dynamic:!0,store:k,namespaced:!0,name:"MapModule"})],e),e}(j["e"]),De=Object(j["f"])(Ne,k),Pe=function(){function t(){}return t.prototype.getTargetArea=function(t,e){var o=K()(t).map((function(t){return K.a.filter(t,(function(t,o){var r,n=(null===(r=t.properties)||void 0===r?void 0:r.GST_NAME)&&t.properties.GST_NAME===e;return n&&(t.id=o),n}))})).value(),r=K.a.reject(o,K.a.isEmpty);return{type:t.type,crs:t.crs,features:r[0]}},t.prototype.errorPropagation=function(t){return t},t}(),xe=new Pe,Ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{display:"none"}},[t._t("marker"),t._t("popup")],2)},Re=[],Ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initial=!0,e.marker={},e}return Object(r["d"])(e,t),e.prototype.mounted=function(){var t=this,e=Object(r["a"])({},this.$props);this.$nextTick((function(){t.addMarkerToMap(e),t.initial=!1,t.added()}))},e.prototype.addMarkerToMap=function(t){var e=this;K.a.each(this.coordinates,(function(o){e.$slots.marker&&(console.log(e.$slots),console.log(e.$slots.marker[0].elm),t.element=e.$slots.marker[0].elm),e.marker=new ke.a.Marker(t).setLngLat(o);e.handlemap((function(t){e.marker.addTo(t)}))}))},e.prototype.remove=function(){this.marker.remove()},e.prototype.added=function(){return{marker:this.marker}},e.prototype.handleMarker=function(t){var e=this,o=function(){e.marker?t(e.marker):setTimeout(o,50)};o()},Object(r["c"])([Object(v["c"])("handlemap")],e.prototype,"handlemap",void 0),Object(r["c"])([Object(v["d"])()],e.prototype,"offset",void 0),Object(r["c"])([Object(v["d"])({required:!0})],e.prototype,"coordinates",void 0),Object(r["c"])([Object(v["d"])()],e.prototype,"color",void 0),Object(r["c"])([Object(v["d"])()],e.prototype,"anchor",void 0),Object(r["c"])([Object(v["d"])()],e.prototype,"draggable",void 0),Object(r["c"])([Object(v["b"])("removed")],e.prototype,"remove",null),Object(r["c"])([Object(v["b"])("added")],e.prototype,"added",null),Object(r["c"])([Object(v["e"])("handlemarker")],e.prototype,"handleMarker",null),e=Object(r["c"])([v["a"]],e),e}(v["f"]),qe=Ue,Be=qe,Ge=Object(C["a"])(Be,Ve,Re,!1,null,null,null),He=Ge.exports,Je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.option={accessToken:Object({NODE_ENV:"production",BASE_URL:"ququlu_view/dist/"}).VUE_APP_MAPBOX_ACCESSTOKEN,container:"map",style:"mapbox://styles/mapbox/streets-v8",center:[130.410767,33.596383],zoom:10},e.map={},e.hoveredStateId=null,e.targetArea={},e.isBorderZoom=!1,e.coordinates=[[130.410767,33.596383],[130.37427,33.55402],[130.42678,33.5631]],e.markers=[{center:e.option.center,draggable:!1}],e.items=[{action:"mdi-ticket",items:[{title:"List Item"}],title:"シェア率マップ"},{action:"map",active:!0,items:[{title:"福岡市",lnglat:[[130.36572,33.56589],[130.36572,33.56589]]},{title:"太宰府市",lnglat:[[130.52758,33.52177],[130.52758,33.52177]]},{title:"糸島市",lnglat:[[130.20705,33.5375],[130.20705,33.5375]]}],title:"地域"}],e}return Object(r["d"])(e,t),Object.defineProperty(e.prototype,"isMobile",{get:function(){return window.innerWidth<=767},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowWidth",{get:function(){return window.innerWidth/1.5},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windowHeight",{get:function(){return window.innerHeight/1.5},enumerable:!1,configurable:!0}),e.prototype.onMapLoaded=function(t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["e"])(this,(function(e){return console.log(t,De.targetGeoJsonData),this.map=t.map,t.map.getSource("states")||(t.map.addSource("states",{type:"geojson",data:De.targetGeoJsonData}),this.addStateLayer(t)),t.map.getSource("meshdata")||t.map.addSource("meshdata",{type:"geojson",data:De.targetGeoJsonData}),S.stopLoading(),[2]}))}))},e.prototype.onMapZoomed=function(t){if(this.isBorderZoom!==t.map.getZoom()>=13)if(t.map.getZoom()>=13){this.addMeshdataLayer(t);var e=K.a.debounce((function(){t.map.getLayer("state-fills")&&t.map.removeLayer("state-fills"),t.map.getLayer("state-borders")&&t.map.removeLayer("state-borders")}),400);e()}else{this.addStateLayer(t);e=K.a.debounce((function(){t.map.getLayer("2DmeshLayer")&&t.map.removeLayer("2DmeshLayer")}),400);e()}this.isBorderZoom=t.map.getZoom()>=13},e.prototype.onMouseMoved=function(t){t.e&&t.e.features&&t.e.features.length>0&&(this.hoveredStateId&&t.map.setFeatureState({source:"states",id:this.hoveredStateId},{hover:!1}),this.hoveredStateId=t.e.features[0].id,t.map.setFeatureState({source:"states",id:this.hoveredStateId},{hover:!0}))},e.prototype.onMouseLeaved=function(t){this.hoveredStateId&&t.map.setFeatureState({source:"states",id:this.hoveredStateId},{hover:!1}),this.hoveredStateId=null},e.prototype.onClicked=function(t){t.e&&t.e.features&&t.e.features.length>0&&(this.hoveredStateId&&t.map.setFeatureState({source:"states",id:this.hoveredStateId},{hover:!1}),this.hoveredStateId=t.e.features[0].id,t.map.setFeatureState({source:"states",id:this.hoveredStateId},{hover:!0}),t.e.features[0].properties&&(console.log("onClicked-- ","経度--",t.e.features[0].properties.X_CODE,"緯度--",t.e.features[0].properties.Y_CODE,t.e.features[0]),t.map.fitBounds([[t.e.features[0].properties.X_CODE,t.e.features[0].properties.Y_CODE],[t.e.features[0].properties.X_CODE,t.e.features[0].properties.Y_CODE]],{padding:180,maxZoom:13})))},e.prototype.addStateLayer=function(t){t.map.addLayer({id:"state-fills",type:"fill",source:"states",layout:{},paint:{"fill-color":"#627BC1","fill-opacity":["case",["boolean",["feature-state","hover"],!1],1,.5]}}),t.map.addLayer({id:"state-borders",type:"line",source:"states",layout:{},paint:{"line-color":"#627BC1","line-width":2}})},e.prototype.addMeshdataLayer=function(t){var e=["<",["get","SETAI"],100],o=["all",[">=",["get","SETAI"],100],["<",["get","SETAI"],200]],r=["all",[">=",["get","SETAI"],200],["<",["get","SETAI"],300]],n=["all",[">=",["get","SETAI"],300],["<",["get","SETAI"],400]],a=["all",[">=",["get","SETAI"],400],["<",["get","SETAI"],500]],i=["all",[">=",["get","SETAI"],600],["<",["get","SETAI"],700]],s=["all",[">=",["get","SETAI"],800],["<",["get","SETAI"],1e3]],c=["all",[">=",["get","SETAI"],1e3],["<",["get","SETAI"],4e3]],u=["rgb(215, 25, 28)","rgb(232, 91, 58)","rgb(249, 158, 89)","rgb(254, 201, 128)","rgb(255, 237, 170)","rgb(237, 247, 201)","rgb(199, 230, 219)","rgb(157, 207, 228)"];t.map.addLayer({id:"2DmeshLayer",type:"fill",source:"meshdata",layout:{},paint:{"fill-color":["case",e,u[0],o,u[1],r,u[2],n,u[3],a,u[4],i,u[5],s,u[6],c,u[7],u[7]],"fill-outline-color":"white"}})},e.prototype.onAreaSelect=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var e,o;return Object(r["e"])(this,(function(r){return De.updateTargetGeoJsonData(xe.getTargetArea(De.geoJsonData,t.title)),e=this.map.getSource("states"),o=this.map.getSource("meshdata"),e.setData(De.targetGeoJsonData),o.setData(De.targetGeoJsonData),this.map.fitBounds(t.lnglat,{padding:180,maxZoom:10}),[2]}))}))},e.prototype.addMarker=function(){var t=new Te["LngLat"](this.randomLng(),this.randomLat());this.markers.push({center:t,draggable:Math.random()>.5})},e.prototype.onMarkerAdded=function(t){t.marker},e.prototype.randomLng=function(){return 106+24*Math.random()},e.prototype.randomLat=function(){return 29+13*Math.random()},e.prototype.errorPropagation=function(t){return console.log(t),t},Object(r["c"])([Object(v["b"])("error")],e.prototype,"errorPropagation",null),e=Object(r["c"])([Object(v["a"])({components:{"map-base":Me,"marker-base":He}})],e),e}(v["f"]),$e=Je,Fe=$e,We=o("56b0"),Ze=Object(C["a"])(Fe,je,Ee,!1,null,null,null),Ye=Ze.exports;M()(Ze,{VCard:N["a"],VCol:le["a"],VList:kt["a"],VListGroup:We["a"],VListItem:It["a"],VListItemContent:St["a"],VListItemTitle:St["b"],VRow:Qt["a"]}),n["a"].use(Wt["a"]);var ze=[{path:"/ququlu_view/dist",name:"Home",component:ee},{path:"/ququlu_view/dist/calender",name:"Calender",component:Oe},{path:"/ququlu_view/dist/sharemap",name:"ShareMap",component:Ye}],Xe=new Wt["a"]({mode:"history",base:"ququlu_view/dist/",routes:ze}),Ke=Xe;n["a"].config.productionTip=!1;new n["a"]({router:Ke,vuetify:h,store:k,render:function(t){return t($t)},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["e"])(this,(function(t){switch(t.label){case 0:return[4,De.requestGeoJsonInfo("data/geojson/40-fukuoka-all.geojson")];case 1:return t.sent(),De.updateTargetGeoJsonData(xe.getTargetArea(De.geoJsonData,"福岡市")),this.$mount("#app"),[2]}}))}))}})},e993:function(t,e,o){"use strict";var r=o("50cd"),n=o.n(r);n.a}});
//# sourceMappingURL=app.137bd13b.js.map